var forge=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){"use strict";var r=n(4),i=n(18),s=Object.prototype.toString;function o(t){return"[object Array]"===s.call(t)}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===s.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===s.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===s.call(t)},isFile:function(t){return"[object File]"===s.call(t)},isBlob:function(t){return"[object Blob]"===s.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(3)),s=n(2),o=5e3;function a(t){return new Promise(function(e){setTimeout(e,t)})}var u;e.DefaultHost="https://developer.api.autodesk.com",function(t){t.US="US",t.EMEA="EMEA"}(u=e.Region||(e.Region={}));e.ForgeClient=class{constructor(t,n,r,o){if("client_id"in n&&"client_secret"in n)this.auth=new s.AuthenticationClient(n.client_id,n.client_secret,r);else{if(!("token"in n))throw new Error("Authentication parameters missing or incorrect.");this.token=n.token}this.root=t,this.host=r||e.DefaultHost,this.region=o||u.US,this.axios=i.default.create({baseURL:this.host+"/"+this.root+"/"})}reset(t,n,r){if(void 0!==t)if("client_id"in t&&"client_secret"in t)this.auth=new s.AuthenticationClient(t.client_id,t.client_secret,n);else{if(!("token"in t))throw new Error("Authentication parameters missing or incorrect.");this.token=t.token}void 0!==n&&(this.host=n||e.DefaultHost),void 0!==r&&(this.region=r||u.US),this.axios=i.default.create({baseURL:this.host+"/"+this.root+"/"})}async setAuthorization(t,e){if(t.headers=t.headers||{},this.auth){const n=await this.auth.authenticate(e);t.headers.Authorization="Bearer "+n.access_token}else t.headers.Authorization="Bearer "+this.token}async fetch(t){return this.axios.request(t)}async get(t,e={},n,r=!1){const i={headers:e};await this.setAuthorization(i,n);let s=await this.axios.get(t,i);for(;202===s.status&&r;)a(o),s=await this.axios.get(t,i);return s.data}async getBuffer(t,e={},n,r=!1){const i={headers:e,responseType:"arraybuffer"};await this.setAuthorization(i,n);let s=await this.axios.get(t,i);for(;202===s.status&&r;)a(o),s=await this.axios.get(t,i);return s.data}async getStream(t,e={},n,r=!1){const i={headers:e,responseType:"stream"};await this.setAuthorization(i,n);let s=await this.axios.get(t,i);for(;202===s.status&&r;)a(o),s=await this.axios.get(t,i);return s.data}async post(t,e,n={},r){const i={headers:n};return await this.setAuthorization(i,r),(await this.axios.post(t,e,i)).data}async put(t,e,n={},r){const i={headers:n};return await this.setAuthorization(i,r),(await this.axios.put(t,e,i)).data}async patch(t,e,n={},r){const i={headers:n};return await this.setAuthorization(i,r),(await this.axios.patch(t,e,i)).data}async delete(t,e={},n){const r={headers:e};return await this.setAuthorization(r,n),(await this.axios.delete(t,r)).data}}},function(t,e,n){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(n(14)),o=i(n(3)),a="authentication/v1";e.AuthenticationClient=class{constructor(t,e,n="https://developer.api.autodesk.com"){this.client_id=t,this.client_secret=e,this.host=n,this._cached={}}get clientId(){return this.client_id}async post(t,e){return o.default.post(this.host+"/"+a+"/"+t,s.stringify(e))}authenticate(t,e=!1){const n="two-legged/"+t.join("/");if(!e&&n in this._cached){const t=this._cached[n];if(t.expires_at>Date.now())return t.promise.then(e=>({access_token:e,expires_in:Math.floor((t.expires_at-Date.now())/1e3)}))}const r={client_id:this.client_id,client_secret:this.client_secret,grant_type:"client_credentials",scope:t.join(" ")},i=this._cached[n]={expires_at:Number.MAX_VALUE,promise:this.post("authenticate",r).then(t=>{const{data:e}=t;return this._cached[n].expires_at=Date.now()+1e3*e.expires_in,e.access_token})};return i.promise.then(t=>({access_token:t,expires_in:Math.floor((i.expires_at-Date.now())/1e3)}))}getAuthorizeRedirect(t,e){return`${this.host}/${a}/authorize?response_type=code&client_id=${this.client_id}&redirect_uri=${e}&scope=${t.join(" ")}`}async getToken(t,e){const n={client_id:this.client_id,client_secret:this.client_secret,grant_type:"authorization_code",code:t,redirect_uri:e};return(await this.post("gettoken",n)).data}async refreshToken(t,e){const n={client_id:this.client_id,client_secret:this.client_secret,grant_type:"refresh_token",refresh_token:e,scope:t.join(" ")};return(await this.post("refreshtoken",n)).data}async getUserProfile(t){const e={headers:{Authorization:"Bearer "+t}};return(await o.default.get(this.host+"/userprofile/v1/users/@me",e)).data}}},function(t,e,n){t.exports=n(17)},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(0);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var s;if(n)s=n(e);else if(r.isURLSearchParams(e))s=e.toString();else{var o=[];r.forEach(e,function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(i(e)+"="+i(t))}))}),s=o.join("&")}if(s){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(0),i=n(23),s={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,u={adapter:(void 0!==e&&"[object process]"===Object.prototype.toString.call(e)?a=n(9):"undefined"!=typeof XMLHttpRequest&&(a=n(9)),a),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){u.headers[t]={}}),r.forEach(["post","put","patch"],function(t){u.headers[t]=r.merge(s)}),t.exports=u}).call(this,n(8))},function(t,e){var n,r,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var u,c=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&h())}function h(){if(!f){var t=a(p);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||f||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(0),i=n(24),s=n(5),o=n(26),a=n(27),u=n(10);t.exports=function(t){return new Promise(function(e,c){var f=t.data,l=t.headers;r.isFormData(f)&&delete l["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",d=t.auth.password||"";l.Authorization="Basic "+btoa(h+":"+d)}if(p.open(t.method.toUpperCase(),s(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?o(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};i(e,c,r),p=null}},p.onabort=function(){p&&(c(u("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){c(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var g=n(28),y=(t.withCredentials||a(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;y&&(l[t.xsrfHeaderName]=y)}if("setRequestHeader"in p&&r.forEach(l,function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete l[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),c(t),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(t,e,n){"use strict";var r=n(25);t.exports=function(t,e,n,i,s){var o=new Error(t);return r(o,e,n,i,s)}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){e=e||{};var n={};return r.forEach(["url","method","params","data"],function(t){void 0!==e[t]&&(n[t]=e[t])}),r.forEach(["headers","auth","proxy"],function(i){r.isObject(e[i])?n[i]=r.deepMerge(t[i],e[i]):void 0!==e[i]?n[i]=e[i]:r.isObject(t[i])?n[i]=r.deepMerge(t[i]):void 0!==t[i]&&(n[i]=t[i])}),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(2)),r(n(33)),r(n(34)),r(n(43)),r(n(44)),r(n(46))},function(t,e,n){"use strict";e.decode=e.parse=n(15),e.encode=e.stringify=n(16)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,s){e=e||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var u=1e3;s&&"number"==typeof s.maxKeys&&(u=s.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var f=0;f<c;++f){var l,p,h,d,g=t[f].replace(a,"%20"),y=g.indexOf(n);y>=0?(l=g.substr(0,y),p=g.substr(y+1)):(l=g,p=""),h=decodeURIComponent(l),d=decodeURIComponent(p),r(o,h)?i(o[h])?o[h].push(d):o[h]=[o[h],d]:o[h]=d}return o};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?s(o(t),function(o){var a=encodeURIComponent(r(o))+n;return i(t[o])?s(t[o],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[o]))}).join(e):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function s(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var o=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";var r=n(0),i=n(4),s=n(19),o=n(11);function a(t){var e=new s(t),n=i(s.prototype.request,e);return r.extend(n,s.prototype,e),r.extend(n,e),n}var u=a(n(7));u.Axios=s,u.create=function(t){return a(o(u.defaults,t))},u.Cancel=n(12),u.CancelToken=n(31),u.isCancel=n(6),u.all=function(t){return Promise.all(t)},u.spread=n(32),t.exports=u,t.exports.default=u},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(0),i=n(5),s=n(20),o=n(21),a=n(11);function u(t){this.defaults=t,this.interceptors={request:new s,response:new s}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=a(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(t){u.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}}),r.forEach(["post","put","patch"],function(t){u.prototype[t]=function(e,n,i){return this.request(r.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=u},function(t,e,n){"use strict";var r=n(0);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,n){"use strict";var r=n(0),i=n(22),s=n(6),o=n(7),a=n(29),u=n(30);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return c(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return s(e)||(c(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(10);t.exports=function(t,e,n){var i=n.config.validateStatus;!i||i(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(0),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,s,o={};return t?(r.forEach(t.split("\n"),function(t){if(s=t.indexOf(":"),e=r.trim(t.substr(0,s)).toLowerCase(),n=r.trim(t.substr(s+1)),e){if(o[e]&&i.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):o}},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,s,o){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(12);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1),i="oss/v2",s=["bucket:read","data:read"],o=["bucket:create","bucket:delete","data:write"];!function(t){t.Transient="transient",t.Temporary="temporary",t.Persistent="persistent"}(e.DataRetentionPolicy||(e.DataRetentionPolicy={}));e.DataManagementClient=class extends r.ForgeClient{constructor(t,e,n){super(i,t,e,n)}async*_pager(t,e){let n=await this.get(`${t}${-1===t.indexOf("?")?"?":"&"}limit=${e}`,{},s);for(yield n.items;n.next;){const r=new URL(n.next).searchParams.get("startAt")||"";n=await this.get(`${t}${-1===t.indexOf("?")?"?":"&"}startAt=${r}&limit=${e}`,{},s),yield n.items}}async _collect(t){let e=await this.get(t,{},s),n=e.items;for(;e.next;){const r=new URL(e.next).searchParams.get("startAt")||"";e=await this.get(`${t}${-1===t.indexOf("?")?"?":"&"}startAt=${r}`,{},s),n=n.concat(e.items)}return n}async*iterateBuckets(t=16){for await(const e of this._pager(`buckets?region=${this.region}`,t))yield e}async listBuckets(){return this._collect(`buckets?region=${this.region}`)}async getBucketDetails(t){return this.get(`buckets/${t}/details`,{},s)}async createBucket(t,e){const n={bucketKey:t,policyKey:e};return this.post("buckets",n,{"x-ads-region":this.region},o)}async*iterateObjects(t,e=16,n){let r=`buckets/${t}/objects`;n&&(r+="?beginsWith="+n);for await(const t of this._pager(r,e))yield t}async listObjects(t,e){let n=`buckets/${t}/objects`;return e&&(n+="?beginsWith="+e),this._collect(n)}async uploadObject(t,e,n,r){const i={"Content-Type":n};return this.put(`buckets/${t}/objects/${e}`,r,i,o)}async uploadObjectStream(t,e,n,r){const i={"Content-Type":n};return this.put(`buckets/${t}/objects/${e}`,r,i,o)}async uploadObjectResumable(t,e,n,r,i,s,a="application/stream"){const u={Authorization:"","Content-Type":a,"Content-Length":n.byteLength.toString(),"Content-Range":`bytes ${r}-${r+n.byteLength-1}/${i}`,"Session-Id":s};return this.put(`buckets/${t}/objects/${e}/resumable`,n,u,o)}async uploadObjectStreamResumable(t,e,n,r,i,s,a,u="application/stream"){const c={Authorization:"","Content-Type":u,"Content-Length":r.toString(),"Content-Range":`bytes ${i}-${i+r-1}/${s}`,"Session-Id":a};return this.put(`buckets/${t}/objects/${e}/resumable`,n,c,o)}async getResumableUploadStatus(t,e,n){const r={method:"GET",url:`buckets/${t}/objects/${e}/status/${n}`,headers:{Authorization:""}};await this.setAuthorization(r,s);const i=(await this.fetch(r)).headers.range||"",o=i.match(/^bytes=(\d+-\d+(,\d+-\d+)*)$/);if(o)return o[1].split(",").map(t=>{const e=t.split("-");return{start:parseInt(e[0]),end:parseInt(e[1])}});throw new Error("Unexpected range format: "+i)}async downloadObject(t,e){return this.getBuffer(`buckets/${t}/objects/${e}`,{},s)}async downloadObjectStream(t,e){return this.getStream(`buckets/${t}/objects/${e}`,{},s)}async copyObject(t,e,n){return this.put(`buckets/${t}/objects/${e}/copyto/${n}`,null,{},o)}async getObjectDetails(t,e){return this.get(`buckets/${t}/objects/${e}/details`,{},s)}async createSignedUrl(t,e,n="readwrite"){return this.post(`buckets/${t}/objects/${e}/signed?access=${n}`,{},{},o)}async deleteObject(t,e){return this.delete(`buckets/${t}/objects/${e}`,{},o)}async deleteBucket(t){return this.delete(`buckets/${t}`,{},o)}}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const r=n(1),i=n(40),s="modelderivative/v2",o=["data:read"],a=["data:read","data:write","data:create"];var u;e.urnify=function(e){return t.from(e).toString("base64").replace(/=/g,"")},function(t){t[t.Small=100]="Small",t[t.Medium=200]="Medium",t[t.Large=400]="Large"}(u=e.ThumbnailSize||(e.ThumbnailSize={}));e.ManifestHelper=class{constructor(t){this.manifest=t}search(t){let e=[];return this.traverse(n=>(!i.isNullOrUndefined(t.guid)&&n.guid!==t.guid||!i.isNullOrUndefined(t.type)&&n.type!==t.type||!i.isNullOrUndefined(t.role)&&n.role!==t.role||e.push(n),!0)),e}traverse(t){function e(t,n){if(n(t)&&t.children)for(const r of t.children)e(r,n)}for(const n of this.manifest.derivatives)if(n.children)for(const r of n.children)e(r,t)}};e.ModelDerivativeClient=class extends r.ForgeClient{constructor(t,e,n){super(s,t,e,n)}async formats(){return(await this.get("designdata/formats",{},o)).formats}async submitJob(t,e,n,r){const i={input:{urn:t},output:{formats:e,destination:{region:this.region}}};n&&(i.input.compressedUrn=!0,i.input.rootFilename=n);const s={};return r&&(s["x-ads-force"]="true"),this.post("designdata/job",i,s,a)}async getManifest(t){return this.get(this.region===r.Region.EMEA?`regions/eu/designdata/${t}/manifest`:`designdata/${t}/manifest`,{},o,!0)}async deleteManifest(t){return this.delete(this.region===r.Region.EMEA?`regions/eu/designdata/${t}/manifest`:`designdata/${t}/manifest`,{},a)}async getDerivative(t,e){return this.getBuffer(this.region===r.Region.EMEA?`regions/eu/designdata/${t}/manifest/${e}`:`designdata/${t}/manifest/${e}`,{},o)}async getDerivativeStream(t,e){return this.getStream(this.region===r.Region.EMEA?`regions/eu/designdata/${t}/manifest/${e}`:`designdata/${t}/manifest/${e}`,{},o)}async getMetadata(t){return this.get(this.region===r.Region.EMEA?`regions/eu/designdata/${t}/metadata`:`designdata/${t}/metadata`,{},o,!0)}async getViewableTree(t,e,n){return this.get(this.region===r.Region.EMEA?`regions/eu/designdata/${t}/metadata/${e}${n?"?forceget=true":""}`:`designdata/${t}/metadata/${e}${n?"?forceget=true":""}`,{},o,!0)}async getViewableProperties(t,e,n){return this.get(this.region===r.Region.EMEA?`regions/eu/designdata/${t}/metadata/${e}/properties${n?"?forceget=true":""}`:`designdata/${t}/metadata/${e}/properties${n?"?forceget=true":""}`,{},o,!0)}async getThumbnail(t,e=u.Medium){const n=this.region===r.Region.EMEA?`regions/eu/designdata/${t}/thumbnail`:`designdata/${t}/thumbnail`;return this.getBuffer(n+"?width="+e,{},o)}async getThumbnailStream(t,e=u.Medium){const n=this.region===r.Region.EMEA?`regions/eu/designdata/${t}/thumbnail`:`designdata/${t}/thumbnail`;return this.getStream(n+"?width="+e,{},o)}}}).call(this,n(35).Buffer)},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(37),i=n(38),s=n(39);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=p(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|h(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):p(t,e);if("Buffer"===e.type&&s(e.data))return p(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(f(e),t=a(t,e<0?0:0|h(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|h(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(t).length;default:if(r)return z(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return j(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return S(this,e,n);case"base64":return x(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var s,o=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,u/=2,n/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var f=-1;for(s=n;s<a;s++)if(c(t,s)===c(e,-1===f?0:s-f)){if(-1===f&&(f=s),s-f+1===u)return f*o}else-1!==f&&(s-=s-f),f=-1}else for(n+u>a&&(n=a-u),s=n;s>=0;s--){for(var l=!0,p=0;p<u;p++)if(c(t,s+p)!==c(e,p)){l=!1;break}if(l)return s}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[n+o]=a}return o}function w(t,e,n,r){return Y(z(e,t.length-n),t,n,r)}function _(t,e,n,r){return Y(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function A(t,e,n,r){return _(t,e,n,r)}function $(t,e,n,r){return Y(N(e),t,n,r)}function E(t,e,n,r){return Y(function(t,e){for(var n,r,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(e,t.length-n),t,n,r)}function x(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function j(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s,o,a,u,c=t[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(s=t[i+1]))&&(u=(31&c)<<6|63&s)>127&&(f=u);break;case 3:s=t[i+1],o=t[i+2],128==(192&s)&&128==(192&o)&&(u=(15&c)<<12|(63&s)<<6|63&o)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(u=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=R));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?j(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0),a=Math.min(s,o),c=this.slice(r,i),f=t.slice(e,n),l=0;l<a;++l)if(c[l]!==f[l]){s=c[l],o=f[l];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return $(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function S(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function O(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=e;s<n;++s)i+=L(t[s]);return i}function T(t,e,n){for(var r=t.slice(e,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function C(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-n,2);i<s;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-n,4);i<s;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function B(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(t,e,n,r,s){return s||B(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function M(t,e,n,r,s){return s||B(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||C(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||C(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||C(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||C(t,e,this.length);for(var r=e,i=1,s=this[t+--r];r>0&&(i*=256);)s+=this[t+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||C(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||C(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||C(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||C(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||C(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||C(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[e]=255&t;++s<n&&(i*=256);)this[e+s]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<n&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return I(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return I(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,s=r-n;if(this===t&&n<e&&e<r)for(i=s-1;i>=0;--i)t[i+e]=this[i+n];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var o=u.isBuffer(t)?t:z(new u(t,r).toString()),a=o.length;for(s=0;s<n-e;++s)this[s+e]=o[s%a]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var n;e=e||1/0;for(var r=t.length,i=null,s=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function N(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(36))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=c(t),r=n[0],o=n[1],a=new s(function(t,e,n){return 3*(e+n)/4-n}(0,r,o)),u=0,f=o>0?r-4:r,l=0;l<f;l+=4)e=i[t.charCodeAt(l)]<<18|i[t.charCodeAt(l+1)]<<12|i[t.charCodeAt(l+2)]<<6|i[t.charCodeAt(l+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===o&&(e=i[t.charCodeAt(l)]<<2|i[t.charCodeAt(l+1)]>>4,a[u++]=255&e);1===o&&(e=i[t.charCodeAt(l)]<<10|i[t.charCodeAt(l+1)]<<4|i[t.charCodeAt(l+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=0,a=n-i;o<a;o+=16383)s.push(f(t,o,o+16383>a?a:o+16383));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=o.length;a<u;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function f(t,e,n){for(var i,s,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var s,o,a=8*i-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?i-1:0,p=n?-1:1,h=t[e+l];for(l+=p,s=h&(1<<-f)-1,h>>=-f,f+=a;f>0;s=256*s+t[e+l],l+=p,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=r;f>0;o=256*o+t[e+l],l+=p,f-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),s-=c}return(h?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,n,r,i,s){var o,a,u,c=8*s-i-1,f=(1<<c)-1,l=f>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:s-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(o++,u/=2),o+l>=f?(a=0,o=f):o+l>=1?(a=(e*u-1)*Math.pow(2,i),o+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;t[n+h]=255&a,h+=d,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+h]=255&o,h+=d,o/=256,c-=8);t[n+h-d]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,s=r.length,o=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=s)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),u=r[n];n<s;u=r[++n])g(u)||!w(u)?o+=" "+u:o+=" "+a(u);return o},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var s,o={};function a(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),f(r,t,r.depth)}function u(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function c(t,e){return t}function f(t,n,r){if(t.customInspect&&n&&$(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return m(i)||(i=f(t,i,r)),i}var s=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(y(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,n);if(s)return s;var o=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),A(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return l(n);if(0===o.length){if($(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(A(n))return l(n)}var c,w="",E=!1,x=["{","}"];(h(n)&&(E=!0,x=["[","]"]),$(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),_(n)&&(w=" "+Date.prototype.toUTCString.call(n)),A(n)&&(w=" "+l(n)),0!==o.length||E&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=E?function(t,e,n,r,i){for(var s=[],o=0,a=e.length;o<a;++o)k(e,String(o))?s.push(p(t,e,n,r,String(o),!0)):s.push("");return i.forEach(function(i){i.match(/^\d+$/)||s.push(p(t,e,n,r,i,!0))}),s}(t,n,r,a,o):o.map(function(e){return p(t,n,r,a,e,E)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,w,x)):x[0]+w+x[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,i,s){var o,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),k(r,i)||(o="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=g(n)?f(t,u.value,null):f(t,u.value,n-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),v(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function h(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return"number"==typeof t}function m(t){return"string"==typeof t}function v(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===E(t)}function w(t){return"object"==typeof t&&null!==t}function _(t){return w(t)&&"[object Date]"===E(t)}function A(t){return w(t)&&("[object Error]"===E(t)||t instanceof Error)}function $(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(v(s)&&(s=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(s)){var r=t.pid;o[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else o[n]=function(){};return o[n]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=d,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=b,e.isObject=w,e.isDate=_,e.isError=A,e.isFunction=$,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(41);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var t=new Date,e=[x(t.getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":");return[t.getDate(),j[t.getMonth()],e].join(" ")}function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",R(),e.format.apply(e,arguments))},e.inherits=n(42),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var S="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(S&&t[S]){var e;if("function"!=typeof(e=t[S]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,S,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push(function(t,r){t?n(t):e(r)});try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),S&&Object.defineProperty(e,S,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=S,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};e.apply(this,n).then(function(e){t.nextTick(o,null,e)},function(e){t.nextTick(O,e,o)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(8))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1),i=n(1),s=["data:read","account:read"],o=["data:write"],a=64;e.BIM360Client=class extends i.ForgeClient{constructor(t,e,n){super("",t,e,n)}async listHubs(){const t={"Content-Type":"application/vnd.api+json"};let e=await this.get("project/v1/hubs",t,s),n=e.data;for(;e.links&&e.links.next;)e=await this.get(e.links.next,t,s),n=n.concat(e.data);return n.map(t=>Object.assign(t.attributes,{id:t.id}))}async getHubDetails(t){const e=await this.get(`project/v1/hubs/${t}`,{"Content-Type":"application/vnd.api+json"},s);return Object.assign(e.data.attributes,{id:e.data.id})}async listProjects(t){const e={"Content-Type":"application/vnd.api+json"};let n=await this.get(`project/v1/hubs/${t}/projects`,e,s),r=n.data;for(;n.links&&n.links.next;)n=await this.get(n.links.next,e,s),r=r.concat(n.data);return r.map(t=>Object.assign(t.attributes,{id:t.id}))}async getProjectDetails(t,e){const n=await this.get(`project/v1/hubs/${t}/projects/${e}`,{"Content-Type":"application/vnd.api+json"},s);return Object.assign(n.data.attributes,{id:n.data.id})}async listTopFolders(t,e){const n={"Content-Type":"application/vnd.api+json"};let r=await this.get(`project/v1/hubs/${t}/projects/${e}/topFolders`,{},s),i=r.data;for(;r.links&&r.links.next;)r=await this.get(r.links.next,n,s),i=i.concat(r.data);return i.map(t=>Object.assign(t.attributes,{id:t.id}))}async listContents(t,e){const n={"Content-Type":"application/vnd.api+json"};let r=await this.get(`data/v1/projects/${t}/folders/${e}/contents`,{},s),i=r.data;for(;r.links&&r.links.next;)r=await this.get(r.links.next,n,s),i=i.concat(r.data);return i.map(t=>Object.assign(t.attributes,{id:t.id,type:t.type}))}async listVersions(t,e){const n={"Content-Type":"application/vnd.api+json"};let r=await this.get(`data/v1/projects/${t}/items/${e}/versions`,{},s),i=r.data;for(;r.links&&r.links.next;)r=await this.get(r.links.next,n,s),i=i.concat(r.data);return i.map(t=>Object.assign(t.attributes,{id:t.id,type:t.type}))}async getTipVersion(t,e){return(await this.get(`data/v1/projects/${t}/items/${e}/tip`,{},s)).data}async getVersionDetails(t,e,n){return(await this.get(`data/v1/projects/${t}/items/${e}/versions/${n}`,{},s)).data}async getIssueContainerID(t,e){const n=await this.get(`project/v1/hubs/${t}/projects/${e}`,{"Content-Type":"application/vnd.api+json"},s);return n.data.relationships.issues?n.data.relationships.issues.data.id:null}async listIssues(t,e,n){const r={"Content-Type":"application/vnd.api+json"};let i=n?`issues/v1/containers/${t}/quality-issues?page[limit]=${n.limit}&page[offset]=${n.offset}`:`issues/v1/containers/${t}/quality-issues?page[limit]=${a}`;e&&(e.target_urn&&(i+="&filter[target_urn]="+e.target_urn),e.due_date&&(i+="&filter[due_date]="+(Array.isArray(e.due_date)?e.due_date[0].toISOString()+"..."+e.due_date[1].toISOString():e.due_date.toISOString())),e.synced_after&&(i+="&filter[synced_after]="+e.synced_after.toISOString()),e.created_at&&(i+="&filter[created_at]="+(Array.isArray(e.created_at)?e.created_at[0].toISOString()+"..."+e.created_at[1].toISOString():e.created_at.toISOString())),e.created_by&&(i+="&filter[created_by]="+e.created_by),e.ng_issue_type_id&&(i+="&filter[ng_issue_type_id]="+e.ng_issue_type_id),e.ng_issue_subtype_id&&(i+="&filter[ng_issue_subtype_id]="+e.ng_issue_subtype_id));let o=await this.get(i,r,s),u=o.data;if(!n)for(;o.links&&o.links.next;)o=await this.get(o.links.next,r,s),u=u.concat(o.data);return u.map(t=>Object.assign(t.attributes,{id:t.id}))}async getIssueDetails(t,e){const n=await this.get(`issues/v1/containers/${t}/quality-issues/${e}`,{"Content-Type":"application/vnd.api+json"},s);return Object.assign(n.data.attributes,{id:n.data.id})}async createIssue(t,e){const n={data:{type:"quality_issues",attributes:e}},r=await this.post(`issues/v1/containers/${t}/quality-issues`,n,{"Content-Type":"application/vnd.api+json"},o);return Object.assign(r.data.attributes,{id:r.data.id})}async updateIssue(t,e,n){const r={data:{type:"quality_issues",id:e,attributes:n}},i=await this.patch(`issues/v1/containers/${t}/quality-issues/${e}`,r,{"Content-Type":"application/vnd.api+json"},o);return Object.assign(i.data.attributes,{id:i.data.id})}async listIssueComments(t,e,n){const r={"Content-Type":"application/vnd.api+json"},i=n?`issues/v1/containers/${t}/quality-issues/${e}/comments?page[limit]=${n.limit}&page[offset]=${n.offset}`:`issues/v1/containers/${t}/quality-issues/${e}/comments?page[limit]=${a}`;let o=await this.get(i,r,s),u=o.data;if(!n)for(;o.links&&o.links.next;)o=await this.get(o.links.next,r,s),u=u.concat(o.data);return u.map(t=>Object.assign(t.attributes,{id:t.id}))}async createIssueComment(t,e,n){const r={data:{type:"comments",attributes:{issue_id:e,body:n}}},i=await this.post(`issues/v1/containers/${t}/comments`,r,{"Content-Type":"application/vnd.api+json"},o);return Object.assign(i.data.attributes,{id:i.data.id})}async listIssueAttachments(t,e,n){const r={"Content-Type":"application/vnd.api+json"},i=n?`issues/v1/containers/${t}/quality-issues/${e}/attachments?page[limit]=${n.limit}&page[offset]=${n.offset}`:`issues/v1/containers/${t}/quality-issues/${e}/attachments?page[limit]=${a}`;let o=await this.get(i,r,s),u=o.data;if(!n)for(;o.links&&o.links.next;)o=await this.get(o.links.next,r,s),u=u.concat(o.data);return u.map(t=>Object.assign(t.attributes,{id:t.id}))}async createIssueAttachment(t,e){const n={data:{type:"attachments",attributes:e}},r=await this.post(`issues/v1/containers/${t}/attachments`,n,{"Content-Type":"application/vnd.api+json"},o);return Object.assign(r.data.attributes,{id:r.data.id})}async listIssueRootCauses(t,e){const n=e?`issues/v1/containers/${t}/root-causes?page[limit]=${e.limit}&page[offset]=${e.offset}`:`issues/v1/containers/${t}/root-causes?page[limit]=${a}`;return(await this.get(n,{"Content-Type":"application/vnd.api+json"},s)).data.map(t=>Object.assign(t.attributes,{id:t.id}))}async listIssueTypes(t,e){const n={"Content-Type":"application/vnd.api+json"};let r=await this.get(`issues/v1/containers/${t}/ng-issue-types?limit=${a}${e?"&include=subtypes":""}`,n,s),i=r.results;for(;r.pagination&&r.pagination.offset+r.pagination.limit<r.pagination.totalResults;)r=await this.get(`issues/v1/containers/${t}/ng-issue-types?offset=${r.pagination.offset+r.pagination.limit}&limit=${a}${e?"&include=subtypes":""}`,n,s),i=i.concat(r.results);return i}async listIssueAttributeDefinitions(t){const e={};let n=await this.get(`issues/v2/containers/${t}/issue-attribute-definitions?limit=${a}`,e,s),r=n.results;for(;n.pagination&&n.pagination.offset+n.pagination.limit<n.pagination.totalResults;)n=await this.get(`issues/v2/containers/${t}/issue-attribute-definitions?offset=${n.pagination.offset+n.pagination.limit}&limit=${a}`,e,s),r=r.concat(n.results);return r}async listIssueAttributeMappings(t){const e={};let n=await this.get(`issues/v2/containers/${t}/issue-attribute-mappings?limit=${a}`,e,s),r=n.results;for(;n.pagination&&n.pagination.offset+n.pagination.limit<n.pagination.totalResults;)n=await this.get(`issues/v2/containers/${t}/issue-attribute-mappings?offset=${n.pagination.offset+n.pagination.limit}&limit=${a}`,e,s),r=r.concat(n.results);return r}async listUsers(t,e){let n=this.region===r.Region.US?`hq/v1/accounts/${t}/users`:`hq/v1/regions/eu/accounts/${t}/users`;if(e){n+=`/search?limit=${a}`;for(const t of Object.keys(e))n+=`&${t}=${e[t]}`}else n+=`?limit=${a}`;let i=[],o=0,u=await this.get(n,{},s);for(;u.length;)i=i.concat(u),o+=a,u=await this.get(n+`&offset=${o}`,{},s);return i}async getUserDetails(t,e){const n=this.region===r.Region.US?`hq/v1/accounts/${t}/users/${e}`:`hq/v1/regions/eu/accounts/${t}/users/${e}`;return await this.get(n,{},s)}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(45)),s=n(1),o="da/us-east/v3",a=["code:all"];class u{constructor(t,e,n){this.owner=t,this.id=e,this.alias=n}static parse(t){const e=t.match(/^([a-zA-Z0-9_]+)\.([a-zA-Z0-9_]+)\+([\$a-zA-Z0-9_]+)$/);return e?new u(e[1],e[2],e[3]):null}toString(){return`${this.owner}.${this.id}+${this.alias}`}}e.DesignAutomationID=u;e.DesignAutomationClient=class extends s.ForgeClient{constructor(t,e,n){super(o,t,e,n)}async*_pager(t,e){let n=await this.get(t,{},e);for(yield n.data;n.paginationToken;)n=await this.get(`${t}?page=${n.paginationToken}`,{},e),yield n.data}async _collect(t,e){let n=await this.get(t,{},e),r=n.data;for(;n.paginationToken;)n=await this.get(`${t}?page=${n.paginationToken}`,{},e),r=r.concat(n.data);return r}async*iterateEngines(){for await(const t of this._pager("engines",a))yield t}async listEngines(){return this._collect("engines",a)}async getEngine(t){return this.get(`engines/${t}`,{},a)}async*iterateAppBundles(){for await(const t of this._pager("appbundles",a))yield t}async listAppBundles(){return this._collect("appbundles",a)}async getAppBundle(t){return this.get(`appbundles/${t}`,{},a)}async getAppBundleVersion(t,e){return this.get(`appbundles/${t}/versions/${e}`,{},a)}async createAppBundle(t,e,n,r){const i={id:t,engine:e};return n&&(i.settings=n),r&&(i.description=r),this.post("appbundles",i,{},a)}async updateAppBundle(t,e,n,r){const i={engine:e};return n&&(i.settings=n),r&&(i.description=r),this.post(`appbundles/${t}/versions`,i,{},a)}uploadAppBundleArchive(t,e){const n=t.uploadParameters.formData,r=new i.default;return r.append("key",n.key),r.append("policy",n.policy),r.append("content-type",n["content-type"]),r.append("success_action_status",n.success_action_status),r.append("success_action_redirect",n.success_action_redirect),r.append("x-amz-signature",n["x-amz-signature"]),r.append("x-amz-credential",n["x-amz-credential"]),r.append("x-amz-algorithm",n["x-amz-algorithm"]),r.append("x-amz-date",n["x-amz-date"]),r.append("x-amz-server-side-encryption",n["x-amz-server-side-encryption"]),r.append("x-amz-security-token",n["x-amz-security-token"]),r.append("file",e),new Promise(function(e,n){r.submit(t.uploadParameters.endpointURL,function(t,r){t?n(t):e()})})}async*iterateAppBundleAliases(t){for await(const e of this._pager(`appbundles/${t}/aliases`,a))yield e}async listAppBundleAliases(t){return this._collect(`appbundles/${t}/aliases`,a)}async*iterateAppBundleVersions(t){for await(const e of this._pager(`appbundles/${t}/versions`,a))yield e}async listAppBundleVersions(t){return this._collect(`appbundles/${t}/versions`,a)}async createAppBundleAlias(t,e,n){const r={id:e,version:n};return this.post(`appbundles/${t}/aliases`,r,{},a)}async updateAppBundleAlias(t,e,n){const r={version:n};return this.patch(`appbundles/${t}/aliases/${e}`,r,{},a)}async deleteAppBundle(t){return this.delete(`appbundles/${t}`,{},a)}async deleteAppBundleAlias(t,e){return this.delete(`appbundles/${t}/aliases/${e}`,{},a)}async deleteAppBundleVersion(t,e){return this.delete(`appbundles/${t}/versions/${e}`,{},a)}async*iterateActivities(){for await(const t of this._pager("activities",a))yield t}async listActivities(){return this._collect("activities",a)}async getActivity(t){return this.get(`activities/${t}`,{},a)}async getActivityVersion(t,e){return this.get(`activities/${t}/versions/${e}`,{},a)}async createActivity(t,e,n,r,i,s,o){if(!this.auth)throw new Error("Cannot create activity without client ID.");const u={id:t,engine:e,commandLine:Array.isArray(n)?n:[n]};return r&&(u.appbundles=Array.isArray(r)?r:[r]),i&&(u.parameters=i),s&&(u.settings=s),o&&(u.description=o),this.post("activities",u,{},a)}async updateActivity(t,e,n,r,i,s,o){if(!this.auth)throw new Error("Cannot create activity without client ID.");const u={engine:e,commandLine:Array.isArray(n)?n:[n]};return r&&(u.appbundles=Array.isArray(r)?r:[r]),i&&(u.parameters=i),s&&(u.settings=s),o&&(u.description=o),this.post(`activities/${t}/versions`,u,{},a)}async*iterateActivityAliases(t){for await(const e of this._pager(`activities/${t}/aliases`,a))yield e}async listActivityAliases(t){return this._collect(`activities/${t}/aliases`,a)}async*iterateActivityVersions(t){for await(const e of this._pager(`activities/${t}/versions`,a))yield e}async listActivityVersions(t){return this._collect(`activities/${t}/versions`,a)}async createActivityAlias(t,e,n){const r={id:e,version:n};return this.post(`activities/${t}/aliases`,r,{},a)}async updateActivityAlias(t,e,n){const r={version:n};return this.patch(`activities/${t}/aliases/${e}`,r,{},a)}async deleteActivity(t){return this.delete(`activities/${t}`,{},a)}async deleteActivityAlias(t,e){return this.delete(`activities/${t}/aliases/${e}`,{},a)}async deleteActivityVersion(t,e){return this.delete(`activities/${t}/versions/${e}`,{},a)}async getWorkItem(t){return this.get(`workitems/${t}`,{},a)}async createWorkItem(t,e){const n={activityId:t};return e&&(n.arguments=e),this.post("workitems",n,{},a)}async deleteWorkItem(t){return this.delete(`workitems/${t}`,{},a)}}},function(t,e){t.exports="object"==typeof self?self.FormData:window.FormData},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1),i=["data:read"],s=["data:read","data:write"];var o,a;!function(t){t.Data="data",t.Derivative="derivative",t.RevitCloudWorksharing="adsk.c4r",t.FusionLifecycle="adsk.flc.production"}(o=e.WebhookSystem||(e.WebhookSystem={})),function(t){t.DataVersionAdded="dm.version.added",t.DataVersionModified="dm.version.modified",t.DataVersionDeleted="dm.version.deleted",t.DataVersionMoved="dm.version.moved",t.DataVersionCopied="dm.version.copied",t.DataFolderAdded="dm.folder.added",t.DataFolderModified="dm.folder.modified",t.DataFolderDeleted="dm.folder.deleted",t.DataFolderMoved="dm.folder.moved",t.DataFolderCopied="dm.folder.copied",t.DerivativeExtractionFinished="extraction.finished",t.DerivativeExtractionUpdated="extraction.updated",t.RevitModelPublish="model.publish",t.RevitModelSync="model.sync",t.FusionItemClone="item.clone",t.FusionItemCreate="item.create",t.FusionItemLock="item.lock",t.FusionItemRelease="item.release",t.FusionItemUnlock="item.unlock",t.FusionItemUpdate="item.update",t.FusionWorkflowTransition="workflow.transition"}(a=e.WebhookEvent||(e.WebhookEvent={})),function(t){t.Active="active",t.Inactive="inactive"}(e.WebhookStatus||(e.WebhookStatus={})),e.webhookSystemEvents=function(t){switch(t){case o.Data:return[a.DataFolderAdded,a.DataFolderCopied,a.DataFolderDeleted,a.DataFolderModified,a.DataFolderMoved,a.DataVersionAdded,a.DataVersionCopied,a.DataVersionDeleted,a.DataVersionModified,a.DataVersionMoved];case o.Derivative:return[a.DerivativeExtractionUpdated,a.DerivativeExtractionFinished];case o.FusionLifecycle:return[a.FusionItemClone,a.FusionItemCreate,a.FusionItemLock,a.FusionItemRelease,a.FusionItemUnlock,a.FusionItemUpdate,a.FusionWorkflowTransition];case o.RevitCloudWorksharing:return[a.RevitModelPublish,a.RevitModelSync]}},e.webhookEventScopes=function(t){switch(t){case a.DataVersionAdded:case a.DataVersionModified:case a.DataVersionDeleted:case a.DataVersionMoved:case a.DataVersionCopied:case a.DataFolderAdded:case a.DataFolderModified:case a.DataFolderDeleted:case a.DataFolderMoved:case a.DataFolderCopied:return["folder"];case a.DerivativeExtractionFinished:case a.DerivativeExtractionUpdated:return["workflow"];case a.RevitModelPublish:case a.RevitModelSync:return["folder"];case a.FusionItemClone:case a.FusionItemCreate:case a.FusionItemLock:case a.FusionItemRelease:case a.FusionItemUnlock:case a.FusionItemUpdate:return["workspace"];case a.FusionWorkflowTransition:return["workflow.transition"]}};e.WebhooksClient=class extends r.ForgeClient{constructor(t,e,n){super("webhooks/v1",t,e,n)}async*_pager(t){let e=await this.get(t,{},i);for(yield e.data;e.links&&e.links.next;){const n=new URL(e.links.next).searchParams.get("pageState")||"";e=await this.get(`${t}${-1===t.indexOf("?")?"?":"&"}pageState=${n}`,{},i),yield e.data}}async _collect(t){let e=await this.get(t,{},i),n=e.data;for(;e.links&&e.links.next;){const r=new URL(e.links.next).searchParams.get("pageState")||"";e=await this.get(`${t}${-1===t.indexOf("?")?"?":"&"}pageState=${r}`,{},i),n=n.concat(e.items)}return n}async*iterateHooks(t,e){let n=`hooks?region=${this.region}`;t&&e?n=`systems/${t}/events/${e}/`+n:t&&(n=`systems/${t}/`+n);for await(const t of this._pager(n))yield t}async listHooks(t,e){let n=`hooks?region=${this.region}`;return t&&e?n=`systems/${t}/events/${e}/`+n:t&&(n=`systems/${t}/`+n),this._collect(n)}async getHookDetails(t,e,n){return await this.get(`systems/${t}/events/${e}/hooks/${n}?region=${this.region}`,{},i)}async createHook(t,e,n){const r=e?`systems/${t}/events/${e}/hooks?region=${this.region}`:`systems/${t}/hooks?region=${this.region}`,i={};await this.setAuthorization(i,s);const o=await this.axios.post(r,n,i);if(o.data.hooks)return o.data.hooks;{const t=(o.headers.location||o.headers.Location).split("/");return t[t.length-1]}}async updateHook(t,e,n,r){await this.patch(`systems/${t}/events/${e}/hooks/${n}?region=${this.region}`,r,{},s)}async deleteHook(t,e,n){await this.delete(`systems/${t}/events/${e}/hooks/${n}?region=${this.region}`,{},s)}}}]);
//# sourceMappingURL=forge-server-utils.js.map